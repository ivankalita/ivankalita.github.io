!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){var n=document.querySelector(".body-finished").querySelector(".timer"),r=+new Date("2020-10-28T20:00:00")-+new Date;function o(e){var t,n,r,o,i,s=(t=e,n=Math.floor(t/1e3/60/60/24),r=Math.floor(t/1e3/60/60%24),o=Math.floor(t/1e3/60%60),i=Math.floor(t/1e3%60),console.log(t,i),{d:n,h:r,m:o,s:i});return e>0?'\n        <span class="timer-bold">'.concat(s.d,"</span>\n        ").concat(s.d<2?"дней":"дня",'\n        <span class="timer-bold">').concat(s.h,'</span>\n        часов\n        <span class="timer-bold">').concat(s.m,'</span>\n        минут\n        <span class="timer-bold">').concat(s.s,"</span>\n        секунд"):(clearInterval(c),"Вы приняты!")}var c=setInterval((function(){r-=1e3,n.innerHTML=o(r)}),1e3)},function(e,t,n){"use strict";n.r(t);n(0);var r=document.querySelector("footer.footer"),o=r.offsetTop,c=new function(e){var t=e.frame,n=t.querySelector(".order-pipline"),r=e.name||n.getAttribute("order-pip"),o=n.querySelectorAll(".page-block"),c=document.querySelector(".pagination-proccess[order-pip=".concat(r,"]")),i=c.querySelectorAll(".pagination-proccess__item"),s=0;function l(){var e=t.getBoundingClientRect();o.forEach((function(t,n){t.style.width=e.width+"px",console.log(e.width),s!==n?t.querySelector(".page-block__body").classList.remove("active"):t.querySelector(".page-block__body").classList.add("active")})),n.style.width=o.length*e.width+"px"}l(),window.addEventListener("resize",l),c.addEventListener("click",(function(e){var r=t.getBoundingClientRect();i.forEach((function(t,o){if(t==e.target){t.classList.add("active");var c=new CustomEvent("changePage",{bubbles:!0,detail:{from:s,to:o}});s=o,l(),n.style.marginLeft="-".concat(r.width*o,"px"),t.dispatchEvent(c)}else t.classList.remove("active")}))})),this.getCountPages=function(){return o.length},this.getCurrentPage=function(){return s},this.setCurrentPage=function(e){var r=t.getBoundingClientRect();e>=0&&e<o.length&&(c.querySelectorAll(".pagination-proccess__item")[s].classList.remove("active"),s=e,n.style.marginLeft="-".concat(r.width*s,"px"),c.querySelectorAll(".pagination-proccess__item")[s].classList.add("active"))},this.updatePagesSizes=l}({frame:document.querySelector(".body-custom-lenta")}),i=new function(e){this.el=e.el;var t=e.itemsEl||e.el.querySelectorAll(".card-item"),n=e.items||new Array;t.forEach((function(e,t){n.push({uniqID:e.querySelector(".descr-item[articul]").textContent,title:e.querySelector(".title").textContent,total:parseFloat(e.querySelector(".total .total-price").textContent)})})),t.forEach((function(e,t){e.querySelector(".actions .button--del").addEventListener("click",(function(r){n=n.filter((function(n){if(n.uniqID===e.querySelector(".descr-item[articul]").textContent){var r=new CustomEvent("removeBusketItem",{bubbles:!0,detail:{el:e,index:t}});return e.dispatchEvent(r),!1}return!0}))}))})),this.getCountItems=function(){return n.length}}({el:document.querySelector(".row.row--card-items")}),s=new function(e){this.el=e.el;var t=e.itemsEl||e.el.querySelectorAll(".card-delivery"),n=e.items||new Array;t.forEach((function(e,t){n.push({id:t,title:e.querySelector(".title").textContent,total:parseFloat(e.querySelector(".extra-item__value").textContent),isSelected:e.hasAttribute("selected")}),e.querySelector(".actions .button--success").addEventListener("click",(function(n){if(!e.hasAttribute("selected")){var r=new CustomEvent("selected",{bubbles:!0,detail:{el:e,index:t}});e.dispatchEvent(r)}}))})),this.getAllDeliveries=function(){return n},this.setDeselected=function(e){n[e].isSelected=!1,t[e].removeAttribute("selected"),t[e].querySelector(".actions .button--success").textContent="Выбрать"},this.setSelected=function(e){n[e].isSelected=!0,t[e].setAttribute("selected",""),t[e].querySelector(".actions .button--success").textContent="Выбрано"}}({el:document.querySelector(".row.row--card-delivery")}),l=new function(e){this.el=e.el;var t=e.itemsEl||e.el.querySelectorAll(".card-payment"),n=e.items||new Array;t.forEach((function(e,t){n.push({id:t,title:e.querySelector(".title").textContent,isSelected:e.hasAttribute("selected")}),console.log(n),e.querySelector(".actions .button--success").addEventListener("click",(function(n){if(!e.hasAttribute("selected")){var r=new CustomEvent("selected",{bubbles:!0,detail:{el:e,index:t}});e.dispatchEvent(r)}}))})),this.getAllDeliveries=function(){return n},this.setDeselected=function(e){n[e].isSelected=!1,t[e].removeAttribute("selected"),t[e].querySelector(".actions .button--success").textContent="Выбрать"},this.setSelected=function(e){n[e].isSelected=!0,t[e].setAttribute("selected",""),t[e].querySelector(".actions .button--success").textContent="Выбрано"}}({el:document.querySelector(".row.row--card-payment")});s.el.addEventListener("selected",(function(e){s.getAllDeliveries().forEach((function(t,n){s.setDeselected(n),n===e.detail.index&&s.setSelected(n)}))})),l.el.addEventListener("selected",(function(e){l.getAllDeliveries().forEach((function(t,n){l.setDeselected(n),n===e.detail.index&&l.setSelected(n)}))})),i.el.addEventListener("removeBusketItem",(function(e){e.detail.el.parentNode.remove();var t=document.getElementById("totalCountItems");i.getCountItems()-1?t.textContent=i.getCountItems()-1:t.style.display="none"})),window.addEventListener("scroll",(function(){r.style.top="".concat(o+window.pageYOffset,"px")})),document.getElementById("startShoping").addEventListener("click",(function(e){document.querySelector(".footer-nav").setAttribute("active",""),document.querySelector(".body-start").removeAttribute("active"),document.querySelector(".body-custom-lenta").setAttribute("active",""),document.getElementById("prevPage").classList.remove("hide"),document.getElementById("nextPage").classList.remove("hide"),c.updatePagesSizes()})),document.getElementById("prevPage").addEventListener("click",(function(e){c.getCurrentPage()&&c.setCurrentPage(c.getCurrentPage()-1),c.updatePagesSizes()})),document.getElementById("nextPage").addEventListener("click",(function(e){var t=document.getElementById("totalCountItems");if(c.getCurrentPage()===c.getCountPages()-2)return document.getElementById("nextPage").textContent="Готово",document.getElementById("nextPage").setAttribute("finished",""),c.setCurrentPage(3),void c.updatePagesSizes();console.log(c.getCurrentPage(),c.getCountPages()),e.target.hasAttribute("finished")?(document.querySelector(".body-custom-lenta").removeAttribute("active"),document.querySelector(".body-finished").setAttribute("active",""),document.querySelector(".footer-nav").removeAttribute("active"),document.querySelector(".footer-finished").setAttribute("active",""),t.style.display="none",document.getElementById("prevPage").classList.add("hide"),document.getElementById("nextPage").textContent="К покупкам",document.getElementById("nextPage").removeAttribute("finished"),document.getElementById("nextPage").setAttribute("reset","")):e.target.hasAttribute("reset")?(document.querySelector(".body-finished").removeAttribute("active"),document.querySelector(".body-custom-lenta").setAttribute("active",""),document.querySelector(".footer-finished").removeAttribute("active"),document.querySelector(".footer-nav").setAttribute("active",""),c.setCurrentPage(0),t.textContent=i.getCountItems(),t.style.display="inline-block",document.getElementById("prevPage").classList.remove("hide"),document.getElementById("nextPage").textContent="Далее",document.getElementById("nextPage").removeAttribute("reset")):c.getCurrentPage()<c.getCountPages()&&c.setCurrentPage(c.getCurrentPage()+1),c.updatePagesSizes()})),r.addEventListener("changePage",(function(e){e.detail.to===c.getCountPages()-1?(document.getElementById("nextPage").textContent="Готово",document.getElementById("nextPage").setAttribute("finished","")):(document.getElementById("nextPage").textContent="Далее",document.getElementById("nextPage").removeAttribute("finished"))}))}]);